<div class="user-summary-inner">
    <div class="flex items-start justify-between gap-3">
        <div class="min-w-0">
            <div class="flex flex-wrap items-center gap-2">
                {% if user.is_verified %}
                    <span class="inline-flex items-center gap-2 rounded-full bg-white/10 border border-white/10 px-3 py-2 text-[11px] font-black text-white/85">
                        <span class="h-2 w-2 rounded-full bg-goamet-blue"></span>
                        Verified
                    </span>
                {% endif %}
                {% if user.friendship_status == "accepted" %}
                    <span class="inline-flex items-center gap-2 rounded-full bg-white/10 border border-white/10 px-3 py-2 text-[11px] font-black text-white/85">
                        <span class="h-2 w-2 rounded-full bg-goamet-pink"></span>
                        Vriend
                    </span>
                {% endif %}
                <span class="inline-flex items-center rounded-full bg-white/5 border border-white/10 px-3 py-2 text-[11px] font-black text-white/70">
                    {{ user.subscription_level.to_uppercase() }}
                </span>
            </div>

            <div class="mt-2 text-[15px] font-extrabold text-white truncate">
                {{ user.name }}{% if user.age.is_some() %} ‚Ä¢ {{ user.age.unwrap() }}{% endif %}{% if user.gender_label.is_some() %} ‚Ä¢ {{ user.gender_label.clone().unwrap() }}{% endif %}
            </div>
            {% if user.location_label != "" %}
                <div class="mt-1 text-[12px] font-semibold text-white/65">üìç {{ user.location_label }}</div>
            {% endif %}
            {% if user.last_seen_label.is_some() %}
                <div class="mt-1 text-[11px] font-semibold text-white/45">Laatst gezien: {{ user.last_seen_label.clone().unwrap() }}</div>
            {% endif %}
        </div>

        <div class="flex items-center gap-2">
            <a
                href="/users/{{ user.user_id }}"
                class="inline-flex items-center justify-center rounded-2xl h-10 w-10 bg-goamet-navy border border-white/15 shadow-sm text-white"
                title="Open profiel"
                aria-label="Open profiel"
            >
                ‚Üó
            </a>
            <button
                type="button"
                class="inline-flex items-center justify-center rounded-2xl h-10 w-10 bg-goamet-navy border border-white/15 shadow-sm text-white"
                title="Sluiten"
                aria-label="Sluiten"
            >
                ‚úï
            </button>
        </div>
    </div>

    <div class="mt-3 flex flex-wrap gap-2">
        {% if user.friendship_status == "accepted" %}
            {% if user.chat_conversation_id.is_some() %}
                <a href="/chats/{{ user.chat_conversation_id.clone().unwrap() }}" class="rounded-2xl px-4 py-3 text-sm font-black bg-goamet-blue text-white shadow-sm">
                    üí¨ Chat
                </a>
            {% else %}
                <button type="button" class="rounded-2xl px-4 py-3 text-sm font-black bg-white/10 border border-white/15 text-white/80 shadow-sm" disabled title="Geen chat beschikbaar">
                    üí¨ Chat
                </button>
            {% endif %}
        {% else if user.friendship_status == "pending_outgoing" %}
            <form method="post" action="/users/{{ user.user_id }}/friendship">
                <input type="hidden" name="action" value="cancel">
                <button type="submit" class="rounded-2xl px-4 py-3 text-sm font-black bg-white/10 border border-white/15 text-white shadow-sm">
                    ‚è≥ Verzoek verzonden
                </button>
            </form>
        {% else if user.friendship_status == "pending_incoming" %}
            <form method="post" action="/users/{{ user.user_id }}/friendship">
                <input type="hidden" name="action" value="accept">
                <button type="submit" class="rounded-2xl px-4 py-3 text-sm font-black bg-goamet-blue text-white shadow-sm">
                    ü§ù Accepteer
                </button>
            </form>
            <form method="post" action="/users/{{ user.user_id }}/friendship">
                <input type="hidden" name="action" value="decline">
                <button type="submit" class="rounded-2xl px-4 py-3 text-sm font-black bg-white/10 border border-white/15 text-white shadow-sm">
                    ‚úï Weiger
                </button>
            </form>
        {% else %}
            <form method="post" action="/users/{{ user.user_id }}/friendship">
                <input type="hidden" name="action" value="request">
                <button type="submit" class="rounded-2xl px-4 py-3 text-sm font-black bg-goamet-pink text-white shadow-sm">
                    ‚ûï Vriend toevoegen
                </button>
            </form>
        {% endif %}

        <a href="/users/{{ user.user_id }}" class="rounded-2xl px-4 py-3 text-sm font-black bg-goamet-navy border border-white/15 text-white/80 shadow-sm">
            Bekijk profiel
        </a>
    </div>

    {% if user.profile_description.is_some() %}
        <div class="mt-3 text-[12px] font-semibold text-white/75 leading-snug">
            {{ user.profile_description.clone().unwrap() }}
        </div>
    {% endif %}

    {% if user.interests.len() > 0 %}
        <div class="mt-3 flex flex-wrap gap-2">
            {% for i in user.interests %}
                <span class="inline-flex items-center rounded-full bg-white/5 border border-white/10 px-3 py-1.5 text-[10px] font-black text-white/70">
                    {{ i }}
                </span>
            {% endfor %}
        </div>
    {% endif %}
</div>
